components:
  schemas:
    Error:
      properties:
        code:
          description: Error code
          type: integer
        error:
          description: Error message
          type: string
        timestamp:
          format: date-time
          type: string
      type: object
    HealthCheck:
      properties:
        a2a_connected:
          description: A2A protocol connection status
          type: boolean
        agent_id:
          description: Unique agent identifier
          type: string
        agent_name:
          description: Agent name
          type: string
        api_accessible:
          description: External API accessibility
          type: boolean
        capabilities:
          description: Available capabilities
          items:
            type: string
          type: array
        data_domain:
          description: Data domain
          type: string
        health_score:
          description: Health score (0.0-1.0)
          maximum: 1.0
          minimum: 0.0
          type: number
        performance_metrics:
          properties:
            avg_response_time:
              description: Average response time in seconds
              type: number
            error_count:
              description: Total errors
              type: integer
            error_rate:
              description: Error rate (0.0-1.0)
              type: number
            total_requests:
              description: Total requests processed
              type: integer
          type: object
        status:
          description: Overall health status
          enum:
          - healthy
          - unhealthy
          - a2a_healthy_api_unhealthy
          type: string
      type: object
  securitySchemes:
    ApiKeyAuth:
      in: header
      name: X-API-Key
      type: apiKey
    BearerAuth:
      scheme: bearer
      type: http
info:
  contact:
    name: Terra Constellata Development Team
    url: https://terra-constellata.ai
  description: Authenticated access to Knowledge Graph data through the WIKIDATA_KNOWLEDGE_AGENT
    agent. Part of the Terra Constellata 'Library of Alexandria for AI Wisdom' ecosystem.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: Terra Constellata WIKIDATA_KNOWLEDGE_AGENT Data Gateway Agent API
  version: 1.0.0
openapi: 3.0.3
paths:
  /execute/get_entity_by_id:
    post:
      description: Execute the get_entity_by_id capability to retrieve knowledge graph
        data from external sources.
      operationId: executeGetentitybyid
      parameters:
      - description: Resource identifier
        in: query
        name: id
        required: true
        schema:
          type: string
      requestBody: null
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  metadata:
                    properties:
                      data_source:
                        type: string
                      processing_time:
                        type: number
                      provenance_level:
                        type: string
                      timestamp:
                        format: date-time
                        type: string
                    type: object
                  result:
                    description: get_entity_by_id result data
                    type: object
                type: object
          description: get_entity_by_id executed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Invalid request parameters
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Authentication required
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Access forbidden
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Rate limit exceeded
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Internal server error
        '503':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: External data source unavailable
      summary: Execute get_entity_by_id capability
      tags:
      - KnowledgeGraph
  /execute/query_sparql:
    post:
      description: Execute the query_sparql capability to retrieve knowledge graph
        data from external sources.
      operationId: executeQuerysparql
      parameters: []
      requestBody: null
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  metadata:
                    properties:
                      data_source:
                        type: string
                      processing_time:
                        type: number
                      provenance_level:
                        type: string
                      timestamp:
                        format: date-time
                        type: string
                    type: object
                  result:
                    description: query_sparql result data
                    type: object
                type: object
          description: query_sparql executed successfully
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Invalid request parameters
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Authentication required
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Access forbidden
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Rate limit exceeded
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Internal server error
        '503':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: External data source unavailable
      summary: Execute query_sparql capability
      tags:
      - KnowledgeGraph
  /health:
    get:
      description: Retrieve comprehensive health information for the WIKIDATA_KNOWLEDGE_AGENT
        agent, including connection status, performance metrics, and external API
        accessibility.
      operationId: getHealth
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthCheck'
          description: Health check successful
        '503':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Service unavailable
      summary: Get WIKIDATA_KNOWLEDGE_AGENT health status
      tags:
      - Health
  /metrics:
    get:
      description: Retrieve Prometheus-formatted metrics for monitoring the WIKIDATA_KNOWLEDGE_AGENT
        agent performance and health.
      operationId: getMetrics
      responses:
        '200':
          content:
            text/plain:
              schema:
                description: Prometheus metrics in text format
                type: string
          description: Metrics retrieved successfully
      summary: Get WIKIDATA_KNOWLEDGE_AGENT Prometheus metrics
      tags:
      - Monitoring
  /schema:
    get:
      description: Retrieve the complete agent schema and configuration information
        for WIKIDATA_KNOWLEDGE_AGENT.
      operationId: getSchema
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Agent schema information
                type: object
          description: Schema retrieved successfully
      summary: Get WIKIDATA_KNOWLEDGE_AGENT agent schema
      tags:
      - Metadata
security:
- ApiKeyAuth: []
- BearerAuth: []
servers:
- description: Production server
  url: https://api.terra-constellata.ai/agents/WIKIDATA_KNOWLEDGE_AGENT
- description: Local development server
  url: http://localhost:8080/agents/{agent_name}
